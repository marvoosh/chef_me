<div class="recipe-card">
  <div class="card-img">
    <div class='icons' data-controller='card-icons'>
      <% if saved_recipe %>
        <%= link_to saved_recipe_path(saved_recipe), method: :delete, remote: true, class: 'card-icons' do %>
          <i class="fas fa-bookmark" data-action='click->card-icons#bookmark' data-saved='<%=saved_recipe.id%>' data-recipe='<%=recipe.id%>'></i>
        <% end %>
      <% else %>
        <%= link_to recipe_saved_recipes_path(recipe), method: :post, remote: true, class: 'card-icons' do %>
          <i class="far fa-bookmark" data-action='click->card-icons#bookmark' data-recipe='<%=recipe.id%>' data-saved='0'></i>
        <% end %>
      <% end %>
      <%= link_to recipe_saved_recipes_path(recipe, attribute: :favourite), method: :post, remote: true, class: 'card-icons' do %>
        <% if saved_recipe&.favourite %>
          <i class="fas fa-heart"></i>
        <% else %>
          <i class="far fa-heart"></i>
        <% end %>
      <% end %>
      <%= link_to recipe_saved_recipes_path(recipe, attribute: :completed), method: :post, remote: true, class: 'card-icons' do %>
        <% if saved_recipe&.completed %>
          <i class="fas fa-check-square"></i>
        <% else %>
          <i class="far fa-check-square"></i>
        <% end %>
      <% end %>
    </div>
    <%= link_to recipe_path(recipe) do %>
      <img src="<%= recipe.image_url %>"/>
    <% end %>
  </div>
  <div class="card-content">
    <h2 class="recipe-title"><%= recipe.name %></h2>
    <hr>
    <div class="recipe-details">
      <div class="recipe-details-item time">
        <div class="values">
          <ion-icon name="time-outline"></ion-icon>
          <span class="value"><%= recipe.cook_time %></span>
        </div>
        <div class="title">Minutes</div>
      </div>
      <div class="recipe-details-item ingredients">
        <div class="values">
          <ion-icon name="book-outline"></ion-icon>
          <span class="value"><%= recipe.recipe_ingredients.count %></span>
        </div>
        <div class="title">Ingredients</div>
      </div>
      <div class="recipe-details-item servings">
        <div class="values">
          <ion-icon name="people-outline"></ion-icon>
          <span class="value"><%= recipe.servings %></span>
        </div>
        <div class="title">Servings</div>
      </div>
    </div>
  </div>
</div>
